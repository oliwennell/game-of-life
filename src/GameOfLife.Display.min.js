(function(){var e=function(e,t,n){return t+e*n};var t=function(t,r){var i=[];var s=t;for(var o=0;o<s;++o){for(var u=0;u<t;++u){i[e(u,o,s)]=0}}for(var a=0;a<r.length;++a){var f=r[a];i[e(f.x,f.y,s)]=1}return new n(i,t)};var n=function(t,n){var r=this;r.a=t;r.w=n;r.h=n;r.e=function(t,n){return r.a[e(t,n,r.h)]==1};r.n=function(e,t){var n=[[e-1,t-1],[e,t-1],[e+1,t-1],[e-1,t],[e+1,t],[e-1,t+1],[e,t+1],[e+1,t+1]];var i=0;for(var s=0;s<n.length;++s){var o=n[s];if(o[0]>=0&&o[0]<r.w)if(o[1]>=0&&o[1]<r.h)if(r.e(o[0],o[1]))i++}return i}};var r=function(t){var r=t.a.slice(0);for(var i=0;i<t.w;++i){for(var s=0;s<t.h;++s){var o=t.e(i,s);var u=t.n(i,s);var a;if(o){a=u==2||u==3}else{a=u==3}r[e(i,s,t.h)]=a?1:0}}return new n(r,t.w)};var i=document.getElementById("gol-display");var s=i.getContext("2d");s.fillStyle="black";var o=200;var a=[];var f=null;var l=0;u=function(){var t=(new Date).getTime();requestAnimationFrame(u);if(t-l>=30){l=t;f=r(f);s.clearRect(0,0,i.width,i.height);var n=[];for(var o=0;o<f.h;++o){for(var a=0;a<f.w;++a){var c=f.a[e(a,o,f.h)];if(c!=0)n.push({x:a,y:o})}}s.beginPath();for(var h=0;h<n.length;++h){var p=n[h];s.fillRect(p.x*2,p.y*2,2,2)}}};for(var c=0;c<o;++c){a.push({x:c,y:c});a.push({x:o-1-c,y:c})}f=t(o,a);u()})()